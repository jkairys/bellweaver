{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://bellweaver.github.io/schemas/compass-mock-data/v1.0.0",
  "title": "Compass Mock Data Schema",
  "description": "JSON Schema for Compass API mock data files used by compass-client package for development and testing",
  "version": "1.0.0",
  "definitions": {
    "calendarEventLocation": {
      "type": "object",
      "required": ["__type", "locationId"],
      "properties": {
        "__type": {
          "type": "string",
          "const": "CalendarEventLocation:http://jdlf.com.au/ns/data/calendar",
          "description": "API type identifier for location objects"
        },
        "locationId": {
          "type": "integer",
          "description": "Unique location identifier"
        },
        "locationName": {
          "type": ["string", "null"],
          "description": "Human-readable location name"
        },
        "coveringLocationId": {
          "type": ["integer", "null"],
          "description": "Alternative location ID if primary unavailable"
        },
        "coveringLocationName": {
          "type": ["string", "null"],
          "description": "Alternative location name"
        }
      }
    },
    "calendarEventManager": {
      "type": "object",
      "required": ["__type", "managerUserId", "managerImportIdentifier"],
      "properties": {
        "__type": {
          "type": "string",
          "const": "CalendarEventManager:http://jdlf.com.au/ns/data/calendar",
          "description": "API type identifier for manager objects"
        },
        "managerUserId": {
          "type": "integer",
          "description": "Manager's Compass user ID"
        },
        "managerImportIdentifier": {
          "type": "string",
          "description": "Manager's import identifier (usually email)"
        },
        "coveringUserId": {
          "type": ["integer", "null"],
          "description": "Covering manager's user ID if primary unavailable"
        },
        "coveringImportIdentifier": {
          "type": ["string", "null"],
          "description": "Covering manager's identifier"
        }
      }
    },
    "compassEvent": {
      "type": "object",
      "required": [
        "__type",
        "activityId",
        "activityType",
        "allDay",
        "attendanceMode",
        "attendeeUserId",
        "backgroundColor",
        "calendarId",
        "description",
        "finish",
        "guid",
        "instanceId",
        "isRecurring",
        "lessonPlanConfigured",
        "longTitle",
        "longTitleWithoutTime",
        "managerId",
        "repeatForever",
        "repeatFrequency",
        "rollMarked",
        "runningStatus",
        "start",
        "targetStudentId",
        "teachingDaysOnly",
        "title"
      ],
      "properties": {
        "__type": {
          "type": "string",
          "const": "CalendarTransport:http://jdlf.com.au/ns/data/calendar",
          "description": "API type identifier for calendar events"
        },
        "activityId": {
          "type": "integer",
          "minimum": 1,
          "description": "Unique activity identifier"
        },
        "activityImportIdentifier": {
          "type": ["string", "null"],
          "description": "External system identifier for activity"
        },
        "activityType": {
          "type": "integer",
          "description": "Type of activity (1=Standard, 2=Learning Task, etc.)"
        },
        "allDay": {
          "type": "boolean",
          "description": "Whether event spans entire day"
        },
        "attendanceMode": {
          "type": "integer",
          "description": "Attendance tracking mode"
        },
        "attendeeUserId": {
          "type": "integer",
          "description": "User ID of attendee"
        },
        "backgroundColor": {
          "type": "string",
          "pattern": "^#[0-9A-Fa-f]{6}$",
          "description": "Event background color (hex format)"
        },
        "calendarId": {
          "type": "integer",
          "description": "Calendar identifier"
        },
        "categoryIds": {
          "type": ["string", "null"],
          "description": "Comma-separated category IDs"
        },
        "comment": {
          "type": ["string", "null"],
          "description": "Additional comments or notes"
        },
        "description": {
          "type": "string",
          "description": "Event description or details"
        },
        "eventSetupStatus": {
          "type": ["integer", "null"],
          "description": "Setup completion status"
        },
        "finish": {
          "type": "string",
          "format": "date-time",
          "description": "Event end datetime (ISO 8601)"
        },
        "guid": {
          "type": "string",
          "description": "Global unique identifier"
        },
        "inClassStatus": {
          "type": ["integer", "null"],
          "description": "In-class status code"
        },
        "instanceId": {
          "type": "string",
          "description": "Event instance UUID"
        },
        "isRecurring": {
          "type": "boolean",
          "description": "Whether event recurs"
        },
        "learningTaskActivityId": {
          "type": ["integer", "null"],
          "description": "Associated learning task activity ID"
        },
        "learningTaskId": {
          "type": ["integer", "null"],
          "description": "Associated learning task ID"
        },
        "lessonPlanConfigured": {
          "type": "boolean",
          "description": "Whether lesson plan is configured"
        },
        "location": {
          "type": ["string", "null"],
          "description": "Location string (legacy field)"
        },
        "locations": {
          "type": ["array", "null"],
          "items": {
            "$ref": "#/definitions/calendarEventLocation"
          },
          "description": "Structured location data"
        },
        "longTitle": {
          "type": "string",
          "description": "Full event title with time prefix"
        },
        "longTitleWithoutTime": {
          "type": "string",
          "description": "Event title without time prefix"
        },
        "managerId": {
          "type": "integer",
          "description": "Primary manager's user ID"
        },
        "managers": {
          "type": ["array", "null"],
          "items": {
            "$ref": "#/definitions/calendarEventManager"
          },
          "description": "Structured manager data"
        },
        "minutesMeetingId": {
          "type": ["integer", "null"],
          "description": "Associated meeting minutes ID"
        },
        "period": {
          "type": ["string", "null"],
          "description": "Period or session identifier"
        },
        "recurringFinish": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Recurring series end datetime"
        },
        "recurringStart": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Recurring series start datetime"
        },
        "repeatDays": {
          "type": ["string", "null"],
          "description": "Days of week for recurrence (e.g., 'Mon,Wed,Fri')"
        },
        "repeatForever": {
          "type": "boolean",
          "description": "Whether event repeats indefinitely"
        },
        "repeatFrequency": {
          "type": "integer",
          "minimum": 0,
          "description": "Recurrence frequency (0=None, 1=Daily, 2=Weekly, etc.)"
        },
        "repeatUntil": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Recurrence end datetime"
        },
        "rollMarked": {
          "type": "boolean",
          "description": "Whether roll has been marked"
        },
        "runningStatus": {
          "type": "integer",
          "description": "Event running status code"
        },
        "sessionName": {
          "type": ["string", "null"],
          "description": "Session or period name"
        },
        "start": {
          "type": "string",
          "format": "date-time",
          "description": "Event start datetime (ISO 8601)"
        },
        "subjectId": {
          "type": ["integer", "null"],
          "description": "Associated subject ID"
        },
        "subjectLongName": {
          "type": ["string", "null"],
          "description": "Full subject name"
        },
        "targetStudentId": {
          "type": "integer",
          "description": "Target student user ID"
        },
        "teachingDaysOnly": {
          "type": "boolean",
          "description": "Whether event occurs only on teaching days"
        },
        "textColor": {
          "type": ["string", "null"],
          "pattern": "^#[0-9A-Fa-f]{6}$",
          "description": "Event text color (hex format)"
        },
        "title": {
          "type": "string",
          "description": "Event title"
        },
        "unavailablePd": {
          "type": ["integer", "null"],
          "description": "Unavailable professional development indicator"
        }
      }
    },
    "compassUser": {
      "type": "object",
      "required": [
        "__type",
        "chroniclePinnedCount",
        "contextualFormGroup",
        "hasEmailRestriction",
        "isBirthday",
        "userCompassPersonId",
        "userConfirmationPhotoPath",
        "userDisplayCode",
        "userEmail",
        "userFirstName",
        "userFlags",
        "userFullName",
        "userId",
        "userLastName",
        "userPhotoPath",
        "userPreferredLastName",
        "userPreferredName",
        "userReportName",
        "userReportPrefFirstLast",
        "userRole",
        "userSchoolId",
        "userSchoolUrl",
        "userSquarePhotoPath",
        "userStatus",
        "userSussiId",
        "userTimeLinePeriods"
      ],
      "properties": {
        "__type": {
          "type": "string",
          "const": "UserDetailsBlob",
          "description": "API type identifier for user details"
        },
        "age": {
          "type": ["integer", "null"],
          "minimum": 0,
          "maximum": 150,
          "description": "User's age in years"
        },
        "birthday": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "User's date of birth (ISO 8601)"
        },
        "chroniclePinnedCount": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of pinned chronicle items"
        },
        "contextualFormGroup": {
          "type": "string",
          "description": "Contextual form group identifier"
        },
        "dateOfDeath": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Date of death if applicable (ISO 8601)"
        },
        "gender": {
          "type": ["string", "null"],
          "enum": ["Male", "Female", "Other", "Prefer not to say", null],
          "description": "User's gender"
        },
        "hasEmailRestriction": {
          "type": "boolean",
          "description": "Whether user has email restrictions"
        },
        "isBirthday": {
          "type": "boolean",
          "description": "Whether today is user's birthday"
        },
        "userActStudentId": {
          "type": ["string", "null"],
          "description": "ACT student identifier"
        },
        "userAccessRestrictions": {
          "type": ["string", "null"],
          "description": "Access restriction codes"
        },
        "userCompassPersonId": {
          "type": "string",
          "format": "uuid",
          "description": "Compass person UUID"
        },
        "userConfirmationPhotoPath": {
          "type": "string",
          "description": "Path to confirmation photo"
        },
        "userDetails": {
          "type": ["string", "null"],
          "description": "Additional user details or notes"
        },
        "userDisplayCode": {
          "type": "string",
          "description": "School-specific user display code (e.g., 'ABC-0001')"
        },
        "userEmail": {
          "type": "string",
          "format": "email",
          "description": "User's email address"
        },
        "userFirstName": {
          "type": "string",
          "description": "User's first name"
        },
        "userFlags": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "description": "User flags or tags"
        },
        "userFormGroup": {
          "type": ["string", "null"],
          "description": "User's form group"
        },
        "userFullName": {
          "type": "string",
          "description": "User's full name"
        },
        "userGenderPronouns": {
          "type": ["string", "null"],
          "description": "User's preferred gender pronouns"
        },
        "userHouse": {
          "type": ["string", "null"],
          "description": "User's house affiliation"
        },
        "userId": {
          "type": "integer",
          "minimum": 1,
          "description": "Unique Compass user ID"
        },
        "userLastName": {
          "type": "string",
          "description": "User's last name"
        },
        "userPhoneExtension": {
          "type": ["string", "null"],
          "description": "User's phone extension"
        },
        "userPhotoPath": {
          "type": "string",
          "description": "Path to user's photo"
        },
        "userPreferredLastName": {
          "type": "string",
          "description": "User's preferred last name"
        },
        "userPreferredName": {
          "type": "string",
          "description": "User's preferred first name"
        },
        "userReportName": {
          "type": "string",
          "description": "Name used in reports"
        },
        "userReportPrefFirstLast": {
          "type": "string",
          "description": "Report name in preferred first/last format"
        },
        "userRole": {
          "type": "integer",
          "description": "User role code (1=Student, 2=Staff, 3=Parent, 4=Other)"
        },
        "userRoleInSchool": {
          "type": ["string", "null"],
          "description": "User's role description"
        },
        "userSchoolId": {
          "type": "string",
          "description": "School-specific student ID"
        },
        "userSchoolUrl": {
          "type": "string",
          "format": "uri",
          "description": "School's Compass URL"
        },
        "userSex": {
          "type": ["string", "null"],
          "enum": ["M", "F", "X", null],
          "description": "User's biological sex (single character)"
        },
        "userSquarePhotoPath": {
          "type": "string",
          "description": "Path to square-cropped user photo"
        },
        "userStatus": {
          "type": "integer",
          "description": "User status code"
        },
        "userSussiId": {
          "type": "string",
          "description": "SUSSI (Student Unique State System Identifier)"
        },
        "userTimeLinePeriods": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "description": "User's timeline periods"
        },
        "userVsn": {
          "type": ["string", "null"],
          "description": "Victorian Student Number (Australia)"
        },
        "userYearLevel": {
          "type": ["string", "null"],
          "pattern": "^[0-9]{1,2}$|^Prep$|^Kinder$",
          "description": "User's year level (e.g., '8', 'Prep')"
        },
        "userYearLevelId": {
          "type": ["integer", "null"],
          "description": "Year level identifier"
        }
      }
    },
    "schemaVersion": {
      "type": "object",
      "required": ["version", "last_updated", "source"],
      "properties": {
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Semantic version of mock data schema (MAJOR.MINOR.PATCH)"
        },
        "last_updated": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of last mock data update"
        },
        "source": {
          "type": "string",
          "enum": ["real", "synthetic"],
          "description": "Data source: 'real' (from actual API) or 'synthetic' (hardcoded)"
        },
        "compass_version": {
          "type": "string",
          "description": "Compass API version if known"
        },
        "notes": {
          "type": "string",
          "description": "Human-readable notes about this mock data version"
        }
      }
    }
  },
  "oneOf": [
    {
      "title": "compass_events.json",
      "description": "Schema for mock calendar events file",
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/compassEvent"
      }
    },
    {
      "title": "compass_user.json",
      "description": "Schema for mock user details file",
      "$ref": "#/definitions/compassUser"
    },
    {
      "title": "schema_version.json",
      "description": "Schema for mock data version tracking file",
      "$ref": "#/definitions/schemaVersion"
    }
  ],
  "examples": [
    {
      "description": "Example compass_events.json",
      "data": [
        {
          "__type": "CalendarTransport:http://jdlf.com.au/ns/data/calendar",
          "activityId": 123456,
          "activityType": 1,
          "allDay": false,
          "attendanceMode": 0,
          "attendeeUserId": 12345,
          "backgroundColor": "#4CAF50",
          "calendarId": 1,
          "description": "Year 8 Science Excursion to Museum of Science and Industry. Bring lunch and water bottle.",
          "finish": "2025-12-15T15:00:00+11:00",
          "guid": "guid-789-012",
          "instanceId": "uuid-123-456",
          "isRecurring": false,
          "lessonPlanConfigured": false,
          "longTitle": "09:00 - Year 8 Science Excursion",
          "longTitleWithoutTime": "Year 8 Science Excursion",
          "managerId": 101,
          "managers": [
            {
              "__type": "CalendarEventManager:http://jdlf.com.au/ns/data/calendar",
              "managerUserId": 101,
              "managerImportIdentifier": "teacher1@school.edu",
              "coveringUserId": null,
              "coveringImportIdentifier": null
            }
          ],
          "location": "Museum of Science",
          "locations": [
            {
              "__type": "CalendarEventLocation:http://jdlf.com.au/ns/data/calendar",
              "locationId": 789,
              "locationName": "Museum of Science",
              "coveringLocationId": null,
              "coveringLocationName": null
            }
          ],
          "repeatForever": false,
          "repeatFrequency": 0,
          "rollMarked": false,
          "runningStatus": 0,
          "start": "2025-12-15T09:00:00+11:00",
          "targetStudentId": 12345,
          "teachingDaysOnly": false,
          "title": "Year 8 Science Excursion"
        }
      ]
    },
    {
      "description": "Example compass_user.json",
      "data": {
        "__type": "UserDetailsBlob",
        "userId": 12345,
        "userFirstName": "Jane",
        "userLastName": "Smith",
        "userPreferredName": "Jane",
        "userFullName": "Jane Smith",
        "userEmail": "jane.smith@example.com",
        "userDisplayCode": "JSM-0001",
        "userCompassPersonId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
        "userYearLevel": "8",
        "userFormGroup": "8A",
        "userHouse": "Blue House",
        "userRole": 4,
        "age": 13,
        "birthday": "2012-03-15T00:00:00+11:00",
        "gender": "Female",
        "userPhotoPath": "/images/default-avatar.png",
        "userSquarePhotoPath": "/images/default-avatar-square.png",
        "chroniclePinnedCount": 0,
        "hasEmailRestriction": false,
        "isBirthday": false,
        "userFlags": [],
        "userTimeLinePeriods": [],
        "contextualFormGroup": "8A",
        "userPreferredLastName": "Smith",
        "userReportName": "Jane Smith",
        "userReportPrefFirstLast": "Jane Smith",
        "userSchoolId": "123456",
        "userSchoolUrl": "https://school.compass.education",
        "userStatus": 1,
        "userSussiId": "ABC123",
        "userConfirmationPhotoPath": "/images/default-avatar.png"
      }
    },
    {
      "description": "Example schema_version.json",
      "data": {
        "version": "1.0.0",
        "last_updated": "2025-12-09T10:00:00Z",
        "source": "real",
        "compass_version": "unknown",
        "notes": "Initial mock data collected from production Compass API"
      }
    }
  ]
}
